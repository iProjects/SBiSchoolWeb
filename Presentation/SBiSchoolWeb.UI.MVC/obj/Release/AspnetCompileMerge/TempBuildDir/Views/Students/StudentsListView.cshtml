@model IEnumerable<SBiSchoolWeb.Entities.Student>

@{
    ViewBag.Title = "Students";
    int Students = Model.Count();
}

<h2 class="page-title">Students [ @Students ]  </h2>

<p>
    @*@Html.ActionLink("Create Student", "CreateStudent")*@
    <button type="button" id="btnCreateStudent">Create Student</button>
</p>
<table>
    <tr>

        <th>
            @Html.DisplayNameFor(model => model.AdminNo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.StudentSurName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.StudentOtherNames)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.KCPE)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.AdminNo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.StudentSurName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.StudentOtherNames)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.KCPE)
            </td>
            <td>
                @Html.ActionLink("Edit", "EditStudent", new { id = item.Id }) |
            @Html.ActionLink("Details", "StudentDetails", new { id = item.Id }) |
            @Html.ActionLink("Delete", "DeleteStudent", new { id = item.Id })
            </td>
        </tr>
    }

</table>

<div id="dialog" title="Create Student" style="overflow: hidden;">
</div>



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">

        $(document).ready(function () {

            $("#progress").hide();

            $.ajaxSetup({ cache: false });

        });

        $(function () {
            $('#dialog').dialog({
                //autoOpen: true,
                //width: 400,
                //resizable: false,
                //title: 'Create Student',
                //modal: true,
                open: function (event, ui) {
                    //Load the CreateAlbumPartial action which will return 
                    // the partial view _CreateAlbumPartial
                    //$(this).load("@*@Url.Action("CreateStudent")*@");
                },
                buttons: {
                    "Close": function () {
                        $(this).dialog("close");
                    }
                }
            });


        });

        $('#btnCreateStudent').click(function () {
            $('#dialog').dialog('open');
        });


    </script>

}










